# TENMON-ARK テスト準備ガイド

**作成日**: 2025年11月30日  
**作成者**: Manus AI  
**プロジェクト**: OS TENMON-AI v2  
**バージョン**: c8f0b3d4

---

## 1. テスト環境の整備項目

天聞がTENMON-ARKを実際に使用してテストするために、以下のテスト環境を整備する必要があります。

### 1.1 テスト環境の構築

**目的**: 本番環境と同等のテスト環境を構築

**整備項目**:

| 項目 | 説明 | 優先度 | 推定工数 |
|------|------|--------|---------|
| テストサーバーの構築 | 本番環境と同等のサーバー環境を構築 | 🔴 最高 | 1-2日 |
| テストデータベースの構築 | 本番環境と同等のデータベース環境を構築 | 🔴 最高 | 1-2日 |
| テストデータの準備 | テスト用のダミーデータを準備 | 🟡 高 | 1-2日 |
| テスト用APIキーの発行 | テスト用のAPIキー（LLM, Stripe等）を発行 | 🟡 高 | 1日 |
| テスト用ドメインの設定 | テスト用のドメイン（例: test.tenmon-ai.com）を設定 | 🟢 中 | 1日 |

**推定総工数**: 5-8日

---

### 1.2 テストツールの準備

**目的**: テストを効率的に実施するためのツールを準備

**整備項目**:

| ツール | 説明 | 優先度 | 推定工数 |
|--------|------|--------|---------|
| Vitest | ユニットテスト・統合テストツール | 🔴 最高 | ✅ 既存 |
| Playwright | E2Eテストツール | 🟡 高 | 1日 |
| Lighthouse | パフォーマンステストツール | 🟡 高 | 1日 |
| OWASP ZAP | セキュリティテストツール | 🟡 高 | 1日 |
| Postman | APIテストツール | 🟢 中 | 1日 |

**推定総工数**: 4日

---

### 1.3 テストドキュメントの準備

**目的**: テストを体系的に実施するためのドキュメントを準備

**整備項目**:

| ドキュメント | 説明 | 優先度 | 推定工数 |
|-------------|------|--------|---------|
| テスト計画書 | テストの目的、範囲、スケジュールを記載 | 🔴 最高 | 1日 |
| テストチェックリスト | テスト項目を一覧化 | 🔴 最高 | 1-2日 |
| テスト手順書 | テストの具体的な手順を記載 | 🟡 高 | 1-2日 |
| テスト結果報告書テンプレート | テスト結果を記録するテンプレート | 🟡 高 | 1日 |

**推定総工数**: 4-6日

---

## 2. テストチェックリスト

天聞がTENMON-ARKを実際に使用してテストするための詳細なテストチェックリストを以下に示します。

### 2.1 機能テスト

#### 2.1.1 チャット機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| メッセージ送信 | メッセージを送信できるか | 🔴 最高 | メッセージが送信され、応答が返る |
| メッセージ受信 | メッセージを受信できるか | 🔴 最高 | メッセージが表示される |
| メッセージ履歴 | メッセージ履歴が表示されるか | 🟡 高 | 過去のメッセージが表示される |
| 多言語対応 | 日本語・英語・中国語で正常に動作するか | 🟡 高 | 各言語で正常に動作する |
| Synaptic Memory | 会話履歴が記憶されるか | 🟡 高 | 過去の会話を参照した応答が返る |

---

#### 2.1.2 音声合成機能テスト（KTTS）

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 音声合成 | テキストを音声に変換できるか | 🔴 最高 | 音声が生成される |
| 火水バランス調整 | 火水バランスを調整できるか | 🟡 高 | 火水バランスに応じた音声が生成される |
| 日本語韻律 | 日本語の韻律が正しいか | 🟡 高 | 自然な日本語音声が生成される |
| 言灵TTS辞書 | 言灵TTS辞書が適用されるか | 🟡 高 | 言灵に応じた音声が生成される |
| Soul Voice統合 | Soul Voiceが適用されるか | 🟢 中 | ユーザー特性に応じた音声が生成される |

---

#### 2.1.3 音声会話機能テスト（Natural Conversation）

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 音声入力 | 音声を入力できるか | 🔴 最高 | 音声が認識される |
| 音声出力 | 音声を出力できるか | 🔴 最高 | 音声が再生される |
| 自然な会話フロー | 自然な会話フローが生成されるか | 🟡 高 | 人間らしい会話が生成される |
| 会話履歴 | 会話履歴が記憶されるか | 🟡 高 | 過去の会話を参照した応答が返る |
| 音声文脈分析 | 音声の文脈が分析されるか | 🟢 中 | 文脈に応じた応答が返る |

---

#### 2.1.4 言灵変換機能テスト（KJCE/OKRE/古五十音）

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| KJCE変換 | 日本語を言灵に変換できるか | 🟡 高 | 言灵が生成される |
| OKRE変換 | 言灵を古五十音に変換できるか | 🟡 高 | 古五十音が生成される |
| 古五十音変換 | 古五十音を現代日本語に変換できるか | 🟡 高 | 現代日本語が生成される |
| 火水バランス保持 | 火水バランスが保持されるか | 🟡 高 | 火水バランスが保持される |
| 靈性スコア計算 | 靈性スコアが計算されるか | 🟢 中 | 靈性スコアが表示される |

---

#### 2.1.5 多言語変換機能テスト（Universal Language Engine）

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 多言語変換 | 日本語・英語・中国語間で変換できるか | 🟡 高 | 各言語間で変換される |
| 火水バランス保持 | 火水バランスが保持されるか | 🟡 高 | 火水バランスが保持される |
| 靈性スコア計算 | 靈性スコアが計算されるか | 🟢 中 | 靈性スコアが表示される |

---

#### 2.1.6 Ark Browser機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| ページ読み上げ | ページを読み上げできるか | 🟡 高 | ページが読み上げられる |
| ページ要約 | ページを要約できるか | 🟡 高 | ページが要約される |
| 危険検知 | 危険なページを検知できるか | 🟡 高 | 危険なページが検知される |
| スクリーンショット | スクリーンショットを撮影できるか | 🟢 中 | スクリーンショットが保存される |

---

#### 2.1.7 Guardian Mode機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| デバイス保護 | デバイスを保護できるか | 🟡 高 | デバイスが保護される |
| 脅威検知 | 脅威を検知できるか | 🟡 高 | 脅威が検知される |
| 緊急連絡 | 緊急連絡ができるか | 🟡 高 | 緊急連絡が送信される |

---

#### 2.1.8 Soul Sync機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 魂特性分析 | 魂特性を分析できるか | 🟡 高 | 魂特性が分析される |
| 思考パターン分析 | 思考パターンを分析できるか | 🟡 高 | 思考パターンが分析される |
| 人格ゆがみ補正 | 人格ゆがみを補正できるか | 🟡 高 | 人格ゆがみが補正される |
| 火水バランス調整 | 火水バランスを調整できるか | 🟢 中 | 火水バランスが調整される |

---

#### 2.1.9 Distributed Cloud機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 分散処理 | タスクを分散処理できるか | 🟢 中 | タスクが分散処理される |
| タスク管理 | タスクを管理できるか | 🟢 中 | タスクが管理される |
| 負荷分散 | 負荷を分散できるか | 🟢 中 | 負荷が分散される |

---

#### 2.1.10 Ark Shield機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 世界守護 | 世界を守護できるか | 🟢 中 | 世界が守護される |
| 脅威検知 | 脅威を検知できるか | 🟢 中 | 脅威が検知される |
| 中和戦略 | 中和戦略を実行できるか | 🟢 中 | 中和戦略が実行される |

---

#### 2.1.11 Fractal OS機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 三層守護構造 | 三層守護構造が機能するか | 🟢 中 | 三層守護構造が機能する |
| 階層間連携 | 階層間連携が機能するか | 🟢 中 | 階層間連携が機能する |

---

#### 2.1.12 Ethics Layer機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 誹謗中傷検知 | 誹謗中傷を検知できるか | 🔴 最高 | 誹謗中傷が検知される |
| スパム検知 | スパムを検知できるか | 🔴 最高 | スパムが検知される |
| 詐欺検知 | 詐欺を検知できるか | 🔴 最高 | 詐欺が検知される |
| 情報操作検知 | 情報操作を検知できるか | 🔴 最高 | 情報操作が検知される |
| 靈核倫理スコア計算 | 靈核倫理スコアが計算されるか | 🟡 高 | 靈核倫理スコアが表示される |
| 自動無害化 | 悪意テキストが無害化されるか | 🟡 高 | 悪意テキストが無害化される |

---

#### 2.1.13 Self Evolution機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 自己学習 | 会話から自動学習できるか | 🟢 中 | 学習内容が記録される |
| 知識蓄積 | 学習内容が永続化されるか | 🟢 中 | 学習内容が永続化される |
| 進化履歴 | 進化履歴が記録されるか | 🟢 中 | 進化履歴が表示される |

---

#### 2.1.14 Natural Presence機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 呼吸リズム推定 | 呼吸リズムを推定できるか | 🟢 中 | 呼吸リズムが推定される |
| 感情波計測 | 感情波を計測できるか | 🟢 中 | 感情波が計測される |
| 気配方向性推定 | 気配の方向性を推定できるか | 🟢 中 | 気配の方向性が推定される |
| 寄り添いモード | 寄り添いモードが機能するか | 🟢 中 | 寄り添いモードが機能する |
| 霊核応答モード | 霊核応答モードが機能するか | 🟢 中 | 霊核応答モードが機能する |

---

#### 2.1.15 Hachigen Self-Healing機能テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 八方位分析 | 問題を8方位に分析できるか | 🟢 中 | 8方位のスコアが表示される |
| 修復アクション生成 | 修復アクションが生成されるか | 🟢 中 | 修復アクションが生成される |
| 修復実行 | 修復が実行されるか | 🟢 中 | 修復が実行される |
| ミナカ調整 | ミナカが調整されるか | 🟢 中 | ミナカが調整される |

---

### 2.2 ユーザー体験テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| UI/UX | UIが使いやすいか | 🔴 最高 | UIが直感的で使いやすい |
| レスポンシブデザイン | スマホ・タブレット・PCで正常に表示されるか | 🟡 高 | 各デバイスで正常に表示される |
| アクセシビリティ | 障害者にも使いやすいか | 🟡 高 | スクリーンリーダー等で使用可能 |
| パフォーマンス | ページロード時間が許容範囲内か | 🟡 高 | ページロード時間が3秒以内 |
| エラーハンドリング | エラーが発生した際に適切に処理されるか | 🟡 高 | エラーメッセージが表示される |

---

### 2.3 安全性テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| 倫理フィルタ | 誹謗中傷・スパム・詐欺・情報操作が検知されるか | 🔴 最高 | 悪意テキストが検知・無害化される |
| 自己修復 | 問題が発生した際に自己修復されるか | 🔴 最高 | 問題が自動修復される |
| 進化防止機構 | 予期しない進化が防止されるか | 🔴 最高 | 進化が承認制になる |
| セキュリティ | セキュリティ脆弱性が存在しないか | 🔴 最高 | セキュリティ脆弱性が存在しない |

---

### 2.4 統合テスト

| テスト項目 | 説明 | 優先度 | 期待結果 |
|-----------|------|--------|---------|
| エンドツーエンドテスト | ユーザーの一連の操作が正常に動作するか | 🔴 最高 | 一連の操作が正常に動作する |
| 負荷テスト | 大量のユーザーが同時にアクセスした際に正常に動作するか | 🟡 高 | 大量のユーザーでも正常に動作する |
| ストレステスト | システムの限界を超えた際に適切に処理されるか | 🟡 高 | 適切にエラーハンドリングされる |

---

## 3. テストユーザーモードの作成

天聞がTENMON-ARKを実際に使用してテストするために、テストユーザーモードを作成する必要があります。

### 3.1 テストユーザーモードの要件

| 要件 | 説明 | 優先度 |
|------|------|--------|
| 管理者権限 | すべての機能にアクセス可能 | 🔴 最高 |
| テストデータアクセス | テストデータにアクセス可能 | 🔴 最高 |
| デバッグモード | デバッグ情報を表示可能 | 🟡 高 |
| テストログ記録 | テスト操作のログを記録 | 🟡 高 |
| テストデータリセット | テストデータをリセット可能 | 🟡 高 |

---

### 3.2 テストユーザーモードの実装

**実装方法**:

1. **管理者権限の付与**:
   - データベースの`users`テーブルで`role`を`admin`に設定
   - `openId`を天聞のManus OAuth IDに設定

2. **テストデータアクセス**:
   - テストデータベースへのアクセス権限を付与
   - テストデータの準備（ダミーユーザー、ダミーメッセージ、ダミープロジェクト等）

3. **デバッグモード**:
   - 環境変数`DEBUG_MODE=true`を設定
   - デバッグ情報をUIに表示（API応答時間、エラーログ等）

4. **テストログ記録**:
   - テスト操作のログを記録（ページ遷移、API呼び出し、エラー等）
   - ログをファイルに保存

5. **テストデータリセット**:
   - テストデータをリセットするAPIを実装
   - UIにリセットボタンを追加

**推定工数**: 3-5日

---

## 4. 天聞が音声会話・チャット・UIを使える状態にするセットアップ

天聞がTENMON-ARKを実際に使用してテストするために、以下のセットアップを実施する必要があります。

### 4.1 セットアップ手順

#### ステップ1: 天聞専用アカウントの作成（1日）

1. Manus OAuthで天聞のアカウントを作成
2. データベースの`users`テーブルで`role`を`admin`に設定
3. テスト用プランを設定（例: Pro プラン）

---

#### ステップ2: テスト環境へのアクセス設定（1日）

1. テスト環境のURL（例: https://test.tenmon-ai.com）を天聞に共有
2. 天聞のIPアドレスをホワイトリストに追加（必要に応じて）
3. テスト用APIキーを天聞に共有

---

#### ステップ3: 音声会話機能のセットアップ（1-2日）

1. マイク・スピーカーの動作確認
2. 音声入力のテスト（/talkページ）
3. 音声出力のテスト（/talkページ）
4. 音声会話フローのテスト

---

#### ステップ4: チャット機能のセットアップ（1日）

1. チャット機能の動作確認（/chatページ）
2. メッセージ送信のテスト
3. メッセージ受信のテスト
4. メッセージ履歴のテスト

---

#### ステップ5: UI機能のセットアップ（1-2日）

1. 各ページの動作確認
   - /（ホーム）
   - /ark-core（Ark Core）
   - /ark（Ark Projects）
   - /kotodama/converter（言灵変換）
   - /kotodama/gojuon（五十音チャート）
   - /universal/converter（多言語変換）
   - /ark/browser（Arkブラウザ）
   - /guardian（Guardian Mode）
   - /soul-sync（Soul Sync）
   - /cloud（分散クラウド）
   - /ark-shield（Ark Shield）
   - /fractal/dashboard（フラクタルOS）
   - /ethics/dashboard（倫理レイヤー）
   - /soul-sync/settings（Soul Sync設定）
   - /speak（音声合成）
   - /talk（音声会話）
   - /self-healing（八方位自己修復）

2. レスポンシブデザインの確認（スマホ・タブレット・PC）

---

#### ステップ6: テストチェックリストの共有（1日）

1. テストチェックリストを天聞に共有
2. テスト手順書を天聞に共有
3. テスト結果報告書テンプレートを天聞に共有

---

#### ステップ7: テスト実施のサポート（5-10日）

1. 天聞がテストを実施
2. テスト中の問題をサポート
3. テスト結果をフィードバック

---

### 4.2 セットアップ総工数: **11-18日**

---

## 5. 天聞の専用アカウントの準備方法

天聞の専用アカウントを準備する方法を以下に示します。

### 5.1 アカウント作成手順

#### ステップ1: Manus OAuthでアカウント作成

1. 天聞がManus OAuthでログイン
2. TENMON-ARKにアクセス
3. 初回ログイン時に自動的にアカウントが作成される

---

#### ステップ2: 管理者権限の付与

1. データベースの`users`テーブルで天聞の`openId`を確認
2. `role`を`admin`に設定

```sql
UPDATE users SET role = 'admin' WHERE openId = '天聞のopenId';
```

---

#### ステップ3: テスト用プランの設定

1. データベースの`subscriptions`テーブルで天聞のサブスクリプションを確認
2. `planName`を`pro`に設定

```sql
INSERT INTO subscriptions (userId, planName, status, currentPeriodStart, currentPeriodEnd)
VALUES (
  (SELECT id FROM users WHERE openId = '天聞のopenId'),
  'pro',
  'active',
  NOW(),
  DATE_ADD(NOW(), INTERVAL 1 YEAR)
);
```

---

#### ステップ4: テストデータの準備

1. テスト用のダミーデータを準備
   - ダミーユーザー（10人）
   - ダミーメッセージ（100件）
   - ダミープロジェクト（10件）
   - ダミーSynaptic Memory（100件）

2. データベースにダミーデータを投入

---

#### ステップ5: デバッグモードの有効化

1. 環境変数`DEBUG_MODE=true`を設定
2. デバッグ情報をUIに表示

---

#### ステップ6: テストログ記録の有効化

1. テスト操作のログを記録
2. ログをファイルに保存

---

### 5.2 アカウント準備総工数: **1-2日**

---

## 総括

天聞がTENMON-ARKを実際に使用してテストするためには、**テスト環境の整備**（5-8日）、**テストツールの準備**（4日）、**テストドキュメントの準備**（4-6日）、**テストユーザーモードの作成**（3-5日）、**セットアップ**（11-18日）、**アカウント準備**（1-2日）が必要です。

総工数は**28-43日**です。

テストチェックリストは、**機能テスト**（15項目）、**ユーザー体験テスト**（5項目）、**安全性テスト**（4項目）、**統合テスト**（3項目）の合計**27項目**です。

天聞がTENMON-ARKを実際に使える状態になるまでの段取りは、**失敗テスト修正** → **進化防止機構実装** → **テスト環境整備** → **テストアカウント作成** → **テストチェックリスト作成** → **天聞によるテスト実施** → **フィードバック収集と改善** → **セキュリティ監査実施** → **バックアップ機能実装** → **パフォーマンス測定と最適化**です。

---

**作成者**: Manus AI  
**作成日**: 2025年11月30日
